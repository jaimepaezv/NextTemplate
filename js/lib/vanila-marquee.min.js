class InfiniteMarquee{constructor(e={}){this.element="string"==typeof e.element?[...document.querySelectorAll(e.element)]:e.element,this.direction=e.direction||"left",this.spaceBetween=e.spaceBetween||"0px",this.gap={vertical:e.gap&&e.gap.vertical||"5px",horizontal:e.gap&&e.gap.horizontal||"0px"},this.speed=e.speed||1e4,this.fullContainer=e.fullContainer||!1,this.fullContainerWidth=e.fullContainerWidth||100,this.smoothEdges=e.smoothEdges||!1,this.pauseOnHover=e.pauseOnHover||!1,this.duplicateCount=e.duplicateCount||1,this.breakpointSize=e.breakpointSize||1023,this.desktopBreakpoint=this.breakpointSize+1,this.mobileSettings=e.mobileSettings||{},this.destroyOnDesktop=e.destroyOnDesktop||!1,this.destroyOnMobile=e.destroyOnMobile||!1,this.elementClass=e.elementClass||"marquee-container",this.on={beforeInit:e.on&&e.on.beforeInit||null,afterInit:e.on&&e.on.afterInit||null,pauseAnimation:e.on&&e.on.pauseAnimation||null,resumeAnimation:e.on&&e.on.resumeAnimation||null},this.scrollType="top"===e.direction||"bottom"===e.direction?"vertical":"horizontal",this.debugging=e.debugging||!1,this.animateMotion=!0,this.isMarqueeInitialized=!1,this.isMarqueeInitialized||this.init(),"undefined"!=typeof window&&(this.destroyOnResponsive(),this.destroyOnMobile||this.destroyOnDesktop)&&window.addEventListener("resize",this.destroyOnResponsive.bind(this))}init(){if("undefined"==typeof window&&"undefined"==typeof document||!(Array.isArray(this.element)?0<this.element.length:this.element))this.debugging&&console.error("ðŸšŠ Infinite Marquee - Failed to Initialize");else{if(this.debugging&&console.log("ðŸšŠ Infinite Marquee - Initialized"),window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(this.animateMotion=!1,this.debugging)&&console.log('ðŸšŠ Infinite Marquee - "prefers-reduced-motion" is Reduced'),"function"==typeof this.on.beforeInit&&this.on.beforeInit(),Array.isArray(this.element)){this.isMarqueeInitialized=!0;for(var e of this.element)this.configureChildNodes(e),this.configureAnimationOptions(e);this.debugging&&console.log("ðŸšŠ Infinite Marquee - DOM Nodes Created from Array")}else this.isMarqueeInitialized=!0,this.configureChildNodes(this.element),this.configureAnimationOptions(this.element),this.debugging&&console.log("ðŸšŠ Infinite Marquee - DOM Nodes Created from Single Element");"function"==typeof this.on.afterInit&&this.on.afterInit()}}configureChildNodes(e){var i=document.createElement("div");for(i.classList.add(this.scrollType+"-marquee-inner");e.firstChild;)i.appendChild(e.firstChild);e.classList.add(this.scrollType+"-marquee"),e.appendChild(i),this.duplicateOriginalNodes(i),this.duplicateContainer(e),this.debugging&&console.log("ðŸšŠ Infinite Marquee - DOM Nodes Appended Successfully")}duplicateOriginalNodes(i){let t=i.children,s=[];for(let e=0;e<t.length;e++){var n=t[e].cloneNode(!0);n.setAttribute("aria-hidden",!0),s.push(n)}for(let e of s)i.appendChild(e);this.debugging&&console.log("ðŸšŠ Infinite Marquee - DOM Nodes Duplicated Successfully")}duplicateContainer(i){let t=i.querySelector(`.${this.scrollType}-marquee-inner`),e=t.cloneNode(!0);e.setAttribute("aria-hidden",!0);var s=e.children;for(let e=0;e<s.length;e++)s[e].removeAttribute("aria-hidden");var n="vertical"===this.scrollType?this.duplicateCount+1:this.duplicateCount,n=Array.from({length:n},()=>e.cloneNode(!0));if(i.append(...n),"vertical"===this.scrollType){let e=i.clientHeight-t.clientHeight;i.style.setProperty("--_containerSize",e+"px")}}configureAnimationOptions(t){let s=window.matchMedia(`(max-width: ${this.breakpointSize}px)`),n=(t.setAttribute("data-animate",this.animateMotion),e=>{e.addEventListener("mouseenter",()=>this.pause(e)),e.addEventListener("mouseleave",()=>this.resume(e))}),e=()=>{if(this.isMarqueeInitialized){var e=this.mobileSettings.direction||this.direction,e="right"===e||"bottom"===e,i="right"===this.direction||"bottom"===this.direction,e=s.matches?e?"reverse":"forwards":i?"reverse":"forwards",i=s.matches&&this.mobileSettings.speed||this.speed;if(t.style.setProperty("--_speed",i+"ms"),t.style.setProperty("--_direction",e),this.smoothEdges&&t.classList.add("smooth"),"vertical"===this.scrollType){let e=s.matches&&this.mobileSettings&&this.mobileSettings.gap&&this.mobileSettings.gap.horizontal||this.gap.horizontal,i=s.matches&&this.mobileSettings&&this.mobileSettings.gap&&this.mobileSettings.gap.vertical||this.gap.vertical;this.gap.horizontal&&t.style.setProperty("--_hGap",e),this.gap.vertical&&t.style.setProperty("--_vGap",i)}else{let e=s.matches&&this.mobileSettings.spaceBetween||this.spaceBetween,i=!s.matches&&this.fullContainer;t.style.setProperty("--_gap",e),t.classList.toggle("full",i),t.style.setProperty("--_containerWidth",i?this.fullContainerWidth+"%":"")}window.innerWidth>=this.desktopBreakpoint&&this.pauseOnHover&&this.animateMotion&&n(t),this.debugging&&console.log(`ðŸšŠ Infinite Marquee - ${this.scrollType} type`),this.debugging&&console.log("ðŸšŠ Infinite Marquee - Animation Configs Ready")}};e(),window.addEventListener("resize",this.debounce(e))}destroyOnResponsive(){var e=this.scrollType+"-marquee-inner",i=this.element;"undefined"!=typeof window&&(window.innerWidth<=this.breakpointSize&&this.destroyOnMobile||window.innerWidth>=this.desktopBreakpoint&&this.destroyOnDesktop?this.manageMarquee(i,e):this.isMarqueeInitialized||(this.init(),this.isMarqueeInitialized=!0))}manageMarquee(e,i){this.isMarqueeInitialized&&(this.destroy(e,i),this.isMarqueeInitialized=!1,this.debugging)&&console.log("ðŸšŠ Infinite Marquee - Destroyed Successfully")}removeClassesAfter(t,s){if(s&&s.classList){let i=!1;for(let e=0;e<s.classList.length;e++){var n=s.classList[e];i&&(s.classList.remove(n),e--),n===t&&(i=!0)}}}destroy(t,e){if(t){t.removeAttribute("style");var s=t.querySelectorAll("."+e);for(let e=1;e<s.length;e++)t.removeChild(s[e]);let i=t.firstElementChild;if(i&&(i.querySelectorAll('[aria-hidden="true"]').forEach(e=>{i.removeChild(e)}),i.classList.contains(e))){for(;i.firstChild;)t.appendChild(i.firstChild);t.removeChild(i),this.removeClassesAfter(this.elementClass,t)}}}pause(e){(e||this.element).classList.add("paused"),this.debugging&&console.log("ðŸšŠ Infinite Marquee - Animation Paused"),"function"==typeof this.on.pauseAnimation&&this.on.pauseAnimation()}resume(e){(e||this.element).classList.remove("paused"),this.debugging&&console.log("ðŸšŠ Infinite Marquee - Animation Resumed"),"function"==typeof this.on.resumeAnimation&&this.on.resumeAnimation()}debounce(i,t=300){let s;return(...e)=>{s&&clearTimeout(s),s=setTimeout(()=>{i(...e)},t)}}}